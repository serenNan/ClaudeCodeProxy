# ClaudeCodeProxy ä¸­æ–‡æ–‡æ¡£

<div align="center">

![ClaudeCodeProxy Logo](https://via.placeholder.com/120x120/3B82F6/FFFFFF?text=CCP)

**ğŸš€ ä¼ä¸šçº§ AI API ä»£ç†ç®¡ç†å¹³å°**

[![.NET](https://img.shields.io/badge/.NET-9.0-512BD4?style=flat-square&logo=dotnet)](https://dotnet.microsoft.com/)
[![React](https://img.shields.io/badge/React-19-61DAFB?style=flat-square&logo=react)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.6-3178C6?style=flat-square&logo=typescript)](https://www.typescriptlang.org/)
[![è®¸å¯è¯](https://img.shields.io/badge/License-MIT-green?style=flat-square)](LICENSE)
[![æ¬¢è¿PR](https://img.shields.io/badge/PRs-welcome-brightgreen.svg?style=flat-square)](https://makeapullrequest.com)

*ä¸€ä¸ªå¤æ‚çš„ã€ç”Ÿäº§å°±ç»ªçš„ AI API ä»£ç†ç®¡ç†ç³»ç»Ÿï¼Œå…·æœ‰å…¨é¢çš„ç›‘æ§ã€åˆ†æå’Œå¤šå¹³å°é›†æˆåŠŸèƒ½ã€‚*

[ğŸš€ **å¿«é€Ÿå¼€å§‹**](#å¿«é€Ÿå¼€å§‹) â€¢ [ğŸ“– **ä½¿ç”¨æ–‡æ¡£**](#ä½¿ç”¨æ–‡æ¡£) â€¢ [ğŸŒŸ **åŠŸèƒ½ç‰¹æ€§**](#åŠŸèƒ½ç‰¹æ€§) â€¢ [ğŸ› ï¸ **API å‚è€ƒ**](#api-å‚è€ƒ)

</div>

---

## ğŸ“‹ ç›®å½•

- [âœ¨ åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§)
- [ğŸ—ï¸ ç³»ç»Ÿæ¶æ„](#ï¸-ç³»ç»Ÿæ¶æ„)
- [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ğŸ› ï¸ å®‰è£…éƒ¨ç½²](#ï¸-å®‰è£…éƒ¨ç½²)
- [âš™ï¸ é…ç½®è¯´æ˜](#ï¸-é…ç½®è¯´æ˜)
- [ğŸ“Š ç®¡ç†é¢æ¿](#-ç®¡ç†é¢æ¿)
- [ğŸ”§ API å‚è€ƒ](#-api-å‚è€ƒ)
- [ğŸŒ å¤šå¹³å°æ”¯æŒ](#-å¤šå¹³å°æ”¯æŒ)
- [ğŸ“ˆ ç›‘æ§åˆ†æ](#-ç›‘æ§åˆ†æ)
- [ğŸ”’ å®‰å…¨è¯´æ˜](#-å®‰å…¨è¯´æ˜)
- [ğŸ¤ å‚ä¸è´¡çŒ®](#-å‚ä¸è´¡çŒ®)
- [ğŸ“„ å¼€æºåè®®](#-å¼€æºåè®®)

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ **æ ¸å¿ƒèƒ½åŠ›**

<table>
<tr>
<td width="50%">

**ğŸ”‘ API å¯†é’¥ç®¡ç†**
- å¤šå¹³å° API å¯†é’¥ç”Ÿå‘½å‘¨æœŸç®¡ç†
- ç»†ç²’åº¦æƒé™ä¸è®¿é—®æ§åˆ¶
- é€Ÿç‡é™åˆ¶ä¸ä»¤ç‰Œé…é¢
- è‡ªåŠ¨è¿‡æœŸå¤„ç†
- é™æ€ä¸ä¼ è¾“åŠ å¯†

**ğŸ¢ è´¦æˆ·é›†æˆ**
- OAuth æµç¨‹ç®¡ç†
- å¤šæœåŠ¡è®¤è¯
- æ™ºèƒ½è´Ÿè½½å‡è¡¡
- è‡ªåŠ¨æ•…éšœè½¬ç§»ä¸å¥åº·æ£€æŸ¥
- åŸºäºä¼˜å…ˆçº§çš„è·¯ç”±

</td>
<td width="50%">

**ğŸ“Š é«˜çº§åˆ†æ**
- å®æ—¶ä½¿ç”¨ç›‘æ§
- æˆæœ¬è·Ÿè¸ªä¸å½’å› 
- æ€§èƒ½æŒ‡æ ‡ï¼ˆRPM/TPMï¼‰
- é¢„æµ‹æ€§å®¹é‡è§„åˆ’
- è‡ªå®šä¹‰æŠ¥è¡¨ä»ªè¡¨æ¿

**ğŸ›¡ï¸ ä¼ä¸šå®‰å…¨**
- åŸºäº JWT çš„è®¤è¯
- IP é™åˆ¶æ§åˆ¶
- å…¨é¢å®¡è®¡æ—¥å¿—
- åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
- å®‰å…¨å‡­è¯å­˜å‚¨

</td>
</tr>
</table>

### ğŸ¨ **ç®¡ç†ç•Œé¢**

- **ä¸“ä¸šä»ªè¡¨æ¿** - å®æ—¶æŒ‡æ ‡ã€ç³»ç»Ÿå¥åº·çŠ¶æ€å’Œ KPI ç›‘æ§
- **é«˜çº§ç»Ÿè®¡** - å¤šç»´åº¦åˆ†æä¸äº¤äº’å¼å¯è§†åŒ–
- **è¯·æ±‚æ—¥å¿—** - å…¨é¢çš„å®¡è®¡è½¨è¿¹ï¼Œæ”¯æŒè¿‡æ»¤å’Œæœç´¢åŠŸèƒ½
- **æˆæœ¬åˆ†æ** - è´¢åŠ¡è·Ÿè¸ªï¼ŒåŒ…å«è¯¦ç»†æµå‘åˆ†æå’Œé¢„æµ‹
- **ç”¨æˆ·ç®¡ç†** - å®‰å…¨è®¤è¯ä¸åŸºäºè§’è‰²çš„æƒé™ç®¡ç†

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```mermaid
graph TB
    subgraph "å‰ç«¯ (React 19)"
        A[ç®¡ç†ä»ªè¡¨æ¿] --> B[APIå¯†é’¥ç®¡ç†å™¨]
        A --> C[åˆ†æä»ªè¡¨æ¿]
        A --> D[è´¦æˆ·ç®¡ç†å™¨]
        A --> E[è¯·æ±‚æ—¥å¿—]
    end
    
    subgraph "åç«¯ (.NET 9 API)"
        F[è®¤è¯æœåŠ¡] --> G[ä»£ç†å¼•æ“]
        G --> H[é€Ÿç‡é™åˆ¶å™¨]
        H --> I[æˆæœ¬è®¡ç®—å™¨]
        I --> J[è¯·æ±‚è®°å½•å™¨]
    end
    
    subgraph "AI å¹³å°"
        K[Claude/Anthropic]
        L[OpenAI]
        M[Google Gemini]
    end
    
    subgraph "æ•°æ®å±‚"
        N[SQLite æ•°æ®åº“]
        O[å†…å­˜ç¼“å­˜]
    end
    
    A --> F
    G --> K
    G --> L
    G --> M
    J --> N
    I --> O
```

### ğŸ› ï¸ **æŠ€æœ¯æ ˆ**

| ç»„ä»¶ | æŠ€æœ¯ | ç‰ˆæœ¬ |
|------|------|------|
| **åç«¯** | .NET Core | 9.0 |
| **å‰ç«¯** | React + TypeScript | 19.x + 5.6 |
| **æ•°æ®åº“** | SQLite + EF Core | æœ€æ–°ç‰ˆ |
| **UI æ¡†æ¶** | Tailwind CSS + Shadcn/ui | 3.x |
| **æ„å»ºå·¥å…·** | Vite | 6.x |
| **è®¤è¯** | JWT | - |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç¯å¢ƒè¦æ±‚

- [.NET 9 SDK](https://dotnet.microsoft.com/download/dotnet/9.0)
- [Node.js 20+](https://nodejs.org/) 
- [npm/yarn/pnpm](https://www.npmjs.com/)

### âš¡ å¿«é€Ÿå¯åŠ¨

1. **å…‹éš†ä»“åº“**
   ```bash
   git clone https://github.com/AIDotNet/ClaudeCodeProxy.git
   cd ClaudeCodeProxy
   ```

2. **å¯åŠ¨åç«¯**
   ```bash
   cd src/ClaudeCodeProxy.Host
   dotnet restore
   dotnet run
   ```

3. **å¯åŠ¨å‰ç«¯**
   ```bash
   cd web
   npm install
   npm run dev
   ```

4. **è®¿é—®åº”ç”¨**
   - å‰ç«¯ç•Œé¢: http://localhost:5173
   - åç«¯ API: http://localhost:5000
   - API æ–‡æ¡£: http://localhost:5000/scalar/v1

---

## ğŸ› ï¸ å®‰è£…éƒ¨ç½²

### ğŸ³ Docker éƒ¨ç½²

```bash
# ä½¿ç”¨ Docker Compose æ„å»ºå¹¶è¿è¡Œ
docker-compose up -d
```

### ğŸ–¥ï¸ æ‰‹åŠ¨éƒ¨ç½²

1. **åç«¯è®¾ç½®**
   ```bash
   cd src/ClaudeCodeProxy.Host
   dotnet publish -c Release -o ./publish
   cd publish
   dotnet ClaudeCodeProxy.Host.dll
   ```

2. **å‰ç«¯æ„å»º**
   ```bash
   cd web
   npm run build
   # ä½¿ç”¨æ‚¨é¦–é€‰çš„ Web æœåŠ¡å™¨æä¾› dist æ–‡ä»¶å¤¹
   ```

---

## âš™ï¸ é…ç½®è¯´æ˜

### ğŸ”§ ç¯å¢ƒå˜é‡

åœ¨ Host é¡¹ç›®ä¸­åˆ›å»º `appsettings.json`ï¼š

```json
{
  "ThorPlatformOptions": {
    "DatabaseConnectionString": "Data Source=claudecodeproxy.db",
    "JwtSettings": {
      "SecretKey": "your-secret-key-here",
      "Issuer": "ClaudeCodeProxy",
      "Audience": "ClaudeCodeProxy-Users",
      "ExpirationHours": 24
    }
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  }
}
```

### ğŸ›ï¸ å‰ç«¯é…ç½®

æ›´æ–° `web/src/config/api.ts`ï¼š

```typescript
export const API_CONFIG = {
  baseURL: process.env.VITE_API_URL || 'http://localhost:5000',
  timeout: 30000,
  retries: 3
};
```

---

## ğŸ“Š ç®¡ç†é¢æ¿

### ğŸ¯ **å®æ—¶æŒ‡æ ‡**

<img src="https://via.placeholder.com/800x400/F8FAFC/334155?text=ä»ªè¡¨æ¿æˆªå›¾" alt="ä»ªè¡¨æ¿æ¦‚è§ˆ" width="100%">

**ä¸»è¦åŠŸèƒ½:**
- å®æ—¶ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡
- è¶‹åŠ¿åˆ†æçš„æˆæœ¬è·Ÿè¸ª
- ä»¤ç‰Œä½¿ç”¨åˆ†æï¼ˆè¾“å…¥/è¾“å‡º/ç¼“å­˜ï¼‰
- API å¯†é’¥çŠ¶æ€ç›‘æ§
- ç³»ç»Ÿè¿è¡Œæ—¶é—´å’Œå¥åº·æŒ‡æ ‡

### ğŸ“ˆ **é«˜çº§åˆ†æ**

- **ä½¿ç”¨çƒ­åŠ›å›¾** - API ä½¿ç”¨æ¨¡å¼çš„å¯è§†åŒ–å±•ç¤º
- **æˆæœ¬æµå‘åˆ†æ** - è¯¦ç»†çš„è´¢åŠ¡å½’å› å’Œé¢„æµ‹
- **æ€§èƒ½è¶‹åŠ¿** - å…·æœ‰é¢„æµ‹æ´å¯Ÿçš„å†å²æ•°æ®
- **ç”¨æˆ·ç”»åƒ** - è¡Œä¸ºåˆ†æå’Œä½¿ç”¨ä¼˜åŒ–

---

## ğŸ”§ API å‚è€ƒ

### ğŸ” è®¤è¯

æ‰€æœ‰ API ç«¯ç‚¹éƒ½éœ€è¦ JWT è®¤è¯ï¼š

```bash
# ç™»å½•è·å– JWT ä»¤ç‰Œ
curl -X POST "http://localhost:5000/api/auth/login" \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"password"}'

# åœ¨åç»­è¯·æ±‚ä¸­ä½¿ç”¨ä»¤ç‰Œ
curl -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  "http://localhost:5000/api/apikeys"
```

### ğŸ“ æ ¸å¿ƒç«¯ç‚¹

| æ–¹æ³• | ç«¯ç‚¹ | æè¿° |
|------|------|------|
| `GET` | `/api/apikeys` | åˆ—å‡ºæ‰€æœ‰ API å¯†é’¥ |
| `POST` | `/api/apikeys` | åˆ›å»ºæ–°çš„ API å¯†é’¥ |
| `PUT` | `/api/apikeys/{id}` | æ›´æ–° API å¯†é’¥ |
| `DELETE` | `/api/apikeys/{id}` | åˆ é™¤ API å¯†é’¥ |
| `GET` | `/api/accounts` | åˆ—å‡ºæœåŠ¡è´¦æˆ· |
| `GET` | `/api/dashboard` | ä»ªè¡¨æ¿ç»Ÿè®¡ |
| `GET` | `/api/logs` | è¯·æ±‚æ—¥å¿— |

### ğŸ”„ ä»£ç†ç«¯ç‚¹

```bash
# Claude API ä»£ç†
curl -X POST "http://localhost:5000/v1/messages" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{"model":"claude-3-sonnet","messages":[...]}'

# OpenAI API ä»£ç†  
curl -X POST "http://localhost:5000/v1/chat/completions" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{"model":"gpt-4","messages":[...]}'
```

---

## ğŸŒ å¤šå¹³å°æ”¯æŒ

### ğŸ¤– **æ”¯æŒçš„ AI å¹³å°**

<table>
<tr>
<td align="center">
<img src="https://via.placeholder.com/60x60/3B82F6/FFFFFF?text=C" alt="Claude"><br>
<b>Claude</b><br>
OAuth é›†æˆ
</td>
<td align="center">
<img src="https://via.placeholder.com/60x60/10B981/FFFFFF?text=O" alt="OpenAI"><br>
<b>OpenAI</b><br>
å®Œæ•´ API æ”¯æŒ
</td>
<td align="center">
<img src="https://via.placeholder.com/60x60/F59E0B/FFFFFF?text=G" alt="Gemini"><br>
<b>Gemini</b><br>
åŸºäºé¡¹ç›®çš„è®¤è¯
</td>
</tr>
</table>

### âš¡ **å¹³å°ç‰¹æ€§**

- **æ™ºèƒ½è·¯ç”±** - åŸºäºè¯·æ±‚å‚æ•°çš„è‡ªåŠ¨å¹³å°é€‰æ‹©
- **æ¨¡å‹æ˜ å°„** - è·¨å¹³å°æ¨¡å‹å…¼å®¹æ€§ç®¡ç†
- **æˆæœ¬è®¡ç®—** - å¹³å°ç‰¹å®šçš„å®šä»·æ¨¡å‹å’Œä½¿ç”¨è·Ÿè¸ª
- **é”™è¯¯å¤„ç†** - å¹³å°ç‰¹å®šçš„é”™è¯¯ä»£ç å’Œé‡è¯•é€»è¾‘

---

## ğŸ“ˆ ç›‘æ§åˆ†æ

### ğŸ“Š **æŒ‡æ ‡æ”¶é›†**

- **è¯·æ±‚/å“åº”è·Ÿè¸ª** - å®Œæ•´çš„ API äº‹åŠ¡æ—¥å¿—è®°å½•
- **ä»¤ç‰Œä½¿ç”¨ç›‘æ§** - è¯¦ç»†çš„è¾“å…¥/è¾“å‡ºä»¤ç‰Œè®¡ç®—
- **æˆæœ¬å½’å› ** - å®æ—¶æˆæœ¬è®¡ç®—å’Œåˆ†é…
- **æ€§èƒ½æŒ‡æ ‡** - å“åº”æ—¶é—´ã€ååé‡å’Œé”™è¯¯ç‡

### ğŸš¨ **å‘Šè­¦ä¸é€šçŸ¥**

- å®æ—¶çŠ¶æ€æ›´æ–°å’Œç³»ç»Ÿå¥åº·ç›‘æ§
- ä½¿ç”¨é˜ˆå€¼å‘Šè­¦å’Œè‡ªåŠ¨é€šçŸ¥
- é”™è¯¯è·Ÿè¸ªå’Œç³»ç»Ÿé—®é¢˜çš„å³æ—¶é€šçŸ¥
- å®¹é‡è§„åˆ’å’Œä¸»åŠ¨æ‰©å±•å»ºè®®

---

## ğŸ”’ å®‰å…¨è¯´æ˜

### ğŸ›¡ï¸ **å®‰å…¨ç‰¹æ€§**

- **ğŸ” JWT è®¤è¯** - å…·æœ‰å¯é…ç½®è¿‡æœŸæ—¶é—´çš„å®‰å…¨åŸºäºä»¤ç‰Œçš„è®¤è¯
- **ğŸ”’ åŠ å¯†å­˜å‚¨** - API å¯†é’¥é™æ€å’Œä¼ è¾“åŠ å¯†
- **ğŸš¦ é€Ÿç‡é™åˆ¶** - å…¨é¢çš„èŠ‚æµä»¥é˜²æ­¢æ»¥ç”¨
- **ğŸŒ IP é™åˆ¶** - å®¢æˆ·ç«¯ IP ç™½åå•å¢å¼ºè®¿é—®æ§åˆ¶
- **ğŸ“‹ å®¡è®¡æ—¥å¿—** - ç”¨äºåˆè§„å’Œå®‰å…¨ç›‘æ§çš„å®Œæ•´å®¡è®¡è½¨è¿¹

### ğŸ”§ **å®‰å…¨æœ€ä½³å®è·µ**

```json
{
  "å®‰å…¨å»ºè®®": {
    "JWTå¯†é’¥": "ä½¿ç”¨å¼ºéšæœºç”Ÿæˆçš„å¯†é’¥ï¼ˆ256+ ä½ï¼‰",
    "æ•°æ®åº“åŠ å¯†": "åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯ç”¨ SQLite åŠ å¯†",
    "TLS": "åœ¨ç”Ÿäº§éƒ¨ç½²ä¸­å§‹ç»ˆä½¿ç”¨ HTTPS",
    "é€Ÿç‡é™åˆ¶": "æ ¹æ®æ‚¨çš„ä½¿ç”¨æ¨¡å¼é…ç½®é€‚å½“çš„é€Ÿç‡é™åˆ¶",
    "ç›‘æ§": "ä¸ºå®‰å…¨äº‹ä»¶å¯ç”¨å…¨é¢çš„æ—¥å¿—è®°å½•å’Œç›‘æ§"
  }
}
```

---

## ğŸ¤ å‚ä¸è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿è´¡çŒ®ï¼è¯·æŸ¥çœ‹æˆ‘ä»¬çš„[è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)äº†è§£è¯¦æƒ…ã€‚

### ğŸš€ **å¼€å‘è®¾ç½®**

1. Fork æ­¤ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ‚¨çš„æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### ğŸ“ **ä»£ç é£æ ¼**

- **åç«¯**: éµå¾ª [.NET ç¼–ç çº¦å®š](https://docs.microsoft.com/zh-cn/dotnet/csharp/programming-guide/inside-a-program/coding-conventions)
- **å‰ç«¯**: åŒ…å« ESLint + Prettier é…ç½®
- **æäº¤æ¶ˆæ¯**: ä½¿ç”¨ [çº¦å®šå¼æäº¤](https://www.conventionalcommits.org/zh-hans/)

---

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

## ğŸ™ è‡´è°¢

- [Anthropic](https://www.anthropic.com/) æä¾› Claude API
- [OpenAI](https://openai.com/) æä¾› GPT API  
- [Google](https://ai.google.dev/) æä¾› Gemini API
- [Shadcn/ui](https://ui.shadcn.com/) æä¾› UI ç»„ä»¶
- [Tailwind CSS](https://tailwindcss.com/) æä¾›æ ·å¼æ¡†æ¶

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªæ˜Ÿæ ‡ï¼**

[ğŸ› æŠ¥å‘Š Bug](https://github.com/your-username/ClaudeCodeProxy/issues) â€¢ [âœ¨ åŠŸèƒ½è¯·æ±‚](https://github.com/your-username/ClaudeCodeProxy/issues) â€¢ [ğŸ’¬ è®¨è®º](https://github.com/your-username/ClaudeCodeProxy/discussions)

</div>

---

<div align="center">

## ğŸ“ æ”¯æŒä¸åé¦ˆ

å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œæˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ä»¬ï¼š

- ğŸ› [æŠ¥å‘Šé—®é¢˜](https://github.com/your-username/ClaudeCodeProxy/issues)
- ğŸ’¡ [åŠŸèƒ½è¯·æ±‚](https://github.com/your-username/ClaudeCodeProxy/issues)
- ğŸ’¬ [ç¤¾åŒºè®¨è®º](https://github.com/your-username/ClaudeCodeProxy/discussions)

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­!**

Made with â¤ï¸ by the ClaudeCodeProxy Team

</div>
